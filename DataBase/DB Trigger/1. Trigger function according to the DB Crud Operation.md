In Laravel, you have several options to trigger functions when database operations occur. Here are the most common approaches:

## 1. Laravel Eloquent Events (Recommended)

Eloquent provides built-in events that you can hook into:

```php
// In your Model (e.g., User.php)
<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Model;

class User extends Model
{
    protected static function boot()
    {
        parent::boot();

        // Trigger before creating
        static::creating(function ($model) {
            // Your logic here
            logger('Creating user: ' . $model->name);
        });

        // Trigger after created
        static::created(function ($model) {
            // Your logic here
            logger('User created: ' . $model->id);
        });

        // Trigger before updating
        static::updating(function ($model) {
            // Your logic here
            logger('Updating user: ' . $model->id);
        });

        // Trigger after updated
        static::updated(function ($model) {
            // Your logic here
            logger('User updated: ' . $model->id);
        });

        // Trigger before deleting
        static::deleting(function ($model) {
            // Your logic here
            logger('Deleting user: ' . $model->id);
        });

        // Trigger after deleted
        static::deleted(function ($model) {
            // Your logic here
            logger('User deleted: ' . $model->id);
        });
    }
}
```

## 2. Using Observers (For Complex Logic)

Create an observer class:

```bash
php artisan make:observer UserObserver --model=User
```

```php
// app/Observers/UserObserver.php
<?php

namespace App\Observers;

use App\Models\User;

class UserObserver
{
    public function creating(User $user)
    {
        // Before create
    }

    public function created(User $user)
    {
        // After create
    }

    public function updating(User $user)
    {
        // Before update
    }

    public function updated(User $user)
    {
        // After update
    }

    public function deleting(User $user)
    {
        // Before delete
    }

    public function deleted(User $user)
    {
        // After delete
    }
}
```

Register the observer in `AppServiceProvider`:

```php
// app/Providers/AppServiceProvider.php
public function boot()
{
    User::observe(UserObserver::class);
}
```

## 3. Database-Level Triggers (MySQL Native)

If you really need database-level triggers, you can create them directly in MySQL:

```sql
-- Create trigger for INSERT
DELIMITER //
CREATE TRIGGER after_user_insert
AFTER INSERT ON users
FOR EACH ROW
BEGIN
    INSERT INTO audit_logs (action, table_name, record_id, created_at)
    VALUES ('INSERT', 'users', NEW.id, NOW());
END;
//
DELIMITER ;

-- Create trigger for UPDATE
DELIMITER //
CREATE TRIGGER after_user_update
AFTER UPDATE ON users
FOR EACH ROW
BEGIN
    INSERT INTO audit_logs (action, table_name, record_id, created_at)
    VALUES ('UPDATE', 'users', NEW.id, NOW());
END;
//
DELIMITER ;

-- Create trigger for DELETE
DELIMITER //
CREATE TRIGGER before_user_delete
BEFORE DELETE ON users
FOR EACH ROW
BEGIN
    INSERT INTO audit_logs (action, table_name, record_id, created_at)
    VALUES ('DELETE', 'users', OLD.id, NOW());
END;
//
DELIMITER ;
```

## 4. Using Laravel Migrations for Database Triggers

You can manage database triggers through migrations:

```php
// database/migrations/2023_01_01_create_user_triggers.php
<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Support\Facades\DB;

class CreateUserTriggers extends Migration
{
    public function up()
    {
        DB::unprepared('
            CREATE TRIGGER after_user_insert
            AFTER INSERT ON users
            FOR EACH ROW
            BEGIN
                INSERT INTO audit_logs (action, table_name, record_id, created_at)
                VALUES ("INSERT", "users", NEW.id, NOW());
            END
        ');
    }

    public function down()
    {
        DB::unprepared('DROP TRIGGER IF EXISTS after_user_insert');
    }
}
```

## 5. Using Laravel Event Listeners

For more complex scenarios, use event listeners:

```bash
php artisan make:listener UserActivityListener --event=UserActivity
```

```php
// app/Listeners/UserActivityListener.php
public function handle($event)
{
    // Handle the event
    ActivityLog::create([
        'user_id' => $event->user->id,
        'action' => $event->action,
        'description' => $event->description
    ]);
}
```

## Recommendation

For most Laravel applications, I recommend using **Eloquent Events** or **Observers** because:

1. They're database-agnostic
2. Easier to maintain and test
3. Integrated with Laravel's architecture
4. Can access full Eloquent models and relationships

Use database-level triggers only when you need:
- Cross-application consistency
- Performance-critical operations
- Operations that must happen regardless of how data is modified

Choose the approach that best fits your specific use case!
