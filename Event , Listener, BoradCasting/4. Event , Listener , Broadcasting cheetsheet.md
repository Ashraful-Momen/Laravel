Perfect! I can create a **Laravel Events, Listeners, and Broadcasting Cheat Sheet** in the **same quick, practical style** as your ORM cheat sheet. It will include:

* Event creation
* Listener creation
* Triggering events
* Broadcasting events
* Simple controller examples
* Quick setup steps for real projects

Here’s the note:

---

# Laravel Events, Listeners, and Broadcasting Cheat Sheet

## 1. Basic Events & Listeners

### Step 1: Create an Event

```bash
php artisan make:event UserRegistered
```

**Event Class Example** (`app/Events/UserRegistered.php`):

```php
class UserRegistered implements ShouldQueue
{
    use Dispatchable, InteractsWithSockets, SerializesModels;

    public $user;

    public function __construct(User $user)
    {
        $this->user = $user;  // Pass model to listener
    }
}
```

---

### Step 2: Create a Listener

```bash
php artisan make:listener SendWelcomeEmail --event=UserRegistered
```

**Listener Class Example** (`app/Listeners/SendWelcomeEmail.php`):

```php
class SendWelcomeEmail
{
    public function handle(UserRegistered $event)
    {
        $user = $event->user;
        Mail::to($user->email)->send(new WelcomeMail($user));
        // Do other tasks like logging, notifications
    }
}
```

---

### Step 3: Register Event & Listener

**In `app/Providers/EventServiceProvider.php`:**

```php
protected $listen = [
    UserRegistered::class => [
        SendWelcomeEmail::class,
    ],
];
```

---

### Step 4: Trigger Event in Controller

```php
$user = User::create(['name'=>'Shuvo','email'=>'shuvo@test.com']);
event(new UserRegistered($user));  // Trigger event

// OR
UserRegistered::dispatch($user);   // Using dispatchable trait
```

---

## 2. Broadcasting Events (Real-time)

### Step 1: Create a Broadcastable Event

```bash
php artisan make:event OrderShipped
```

**Event Class Example**:

```php
class OrderShipped implements ShouldBroadcast
{
    use Dispatchable, InteractsWithSockets, SerializesModels;

    public $order;

    public function __construct(Order $order)
    {
        $this->order = $order;
    }

    public function broadcastOn()
    {
        return new PrivateChannel('orders.' . $this->order->user_id);
        // or use Channel for public events
    }
}
```

---

### Step 2: Setup Broadcasting Driver

* `.env` file:

```
BROADCAST_DRIVER=pusher
PUSHER_APP_ID=your_app_id
PUSHER_APP_KEY=your_app_key
PUSHER_APP_SECRET=your_secret
PUSHER_APP_CLUSTER=mt1
```

* Install Pusher SDK:

```bash
composer require pusher/pusher-php-server
```

* Frontend (JS) listen example:

```js
import Echo from 'laravel-echo';
window.Pusher = require('pusher-js');

window.Echo = new Echo({
    broadcaster: 'pusher',
    key: process.env.MIX_PUSHER_APP_KEY,
    cluster: process.env.MIX_PUSHER_APP_CLUSTER,
    encrypted: true
});

Echo.private('orders.1')
    .listen('OrderShipped', (e) => {
        console.log('Order shipped:', e.order);
    });
```

---

### Step 3: Trigger Broadcast Event

```php
$order = Order::find(1);
OrderShipped::dispatch($order); // Broadcast to channel
```

---

## 3. Queued Listeners

**Queue your listener for background processing:**

```php
class SendWelcomeEmail implements ShouldQueue
{
    public function handle(UserRegistered $event)
    {
        Mail::to($event->user->email)->send(new WelcomeMail($event->user));
    }
}
```

* Start queue worker:

```bash
php artisan queue:work
```

* `.env` configuration:

```
QUEUE_CONNECTION=database
```

---

## 4. Quick Reference Table

| Feature         | Command/Method                                                | Usage                   |
| --------------- | ------------------------------------------------------------- | ----------------------- |
| Create Event    | `php artisan make:event EventName`                            | Define event            |
| Create Listener | `php artisan make:listener ListenerName --event=EventName`    | Handle event            |
| Trigger Event   | `event(new EventName($data))` or `EventName::dispatch($data)` | Fire event              |
| Broadcast Event | `ShouldBroadcast` interface + `broadcastOn()`                 | Real-time notifications |
| Queue Listener  | `implements ShouldQueue`                                      | Process in background   |
| Eager Setup     | `EventServiceProvider::$listen`                               | Map events → listeners  |

---

## 5. Controller Usage Examples

```php
// 1:1 Event
$user = User::create(['name'=>'Shuvo','email'=>'shuvo@test.com']);
event(new UserRegistered($user));

// 1:M Event
$orders = Order::factory(3)->create(['user_id'=>1]);
foreach ($orders as $order) {
    event(new OrderShipped($order));
}

// Broadcast real-time
OrderShipped::dispatch($order);

// Queued Listener
// Make sure queue worker is running
```

---

✅ This cheat sheet gives a **simple, short, and practical setup** for events, listeners, broadcasting, and queued processing in Laravel.

---

Do you want me to do that?
