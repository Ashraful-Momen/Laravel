Here is a **clean, compact, production-ready cheat sheet** for **Service Provider + Service Container in Laravel 12** â€” perfect for daily reference.

---

# ğŸš€ **Laravel 12 Service Provider & Service Container Cheat Sheet**

---

# âœ… **1. Create a Service Provider**

```bash
php artisan make:provider PaymentServiceProvider
```

File created:

```
app/Providers/PaymentServiceProvider.php
```

---

# âœ… **2. Register the Service Provider (Laravel 12)**

Open:

```
bootstrap/providers.php
```

Add your provider:

```php
return [
    App\Providers\AppServiceProvider::class,
    App\Providers\AuthServiceProvider::class,
    App\Providers\EventServiceProvider::class,
    App\Providers\PaymentServiceProvider::class, // <-- Add this
];
```

âœ” No more `config/app.php` provider list.
âœ” Laravel 12 loads providers from this file.

---

# âœ… **3. Service Container Binding (Inside Provider)**

### Bind Interface â†’ Implementation

`app/Providers/PaymentServiceProvider.php`

```php
public function register()
{
    $this->app->bind(
        \App\Services\PaymentGateway::class,
        \App\Services\StripePayment::class
    );
}
```

### Singleton binding

```php
$this->app->singleton(
    PaymentGateway::class,
    StripePayment::class
);
```

### Bind primitive values

```php
$this->app->bind('currency', fn() => 'USD');
```

---

# âœ… **4. Auto Dependency Injection (Use the Bindings)**

Anywhere (Controller, Service, Job, Event Listener):

```php
public function __construct(PaymentGateway $payment)
{
    $this->payment = $payment;
}
```

The container automatically resolves:

```
PaymentGateway â†’ StripePayment
```

---

# âœ… **5. Resolve from Service Container Manually**

```php
$payment = app(PaymentGateway::class);
```

Or

```php
$payment = resolve(PaymentGateway::class);
```

Or using alias:

```php
$appValue = app('currency');
```

---

# âœ… **6. Boot Method (Run Logic After All Bindings Loaded)**

```php
public function boot()
{
    // something that needs all services ready
    \Log::info("PaymentServiceProvider loaded.");
}
```

Use cases for `boot()`:

* Registering blade directives
* Event listeners
* Publishing configs
* Route macros
* Etc.

---

# âœ… **7. Quick Binding Without Provider (Laravel 12 Shortcut)**

You can bind directly in **bootstrap/app.php**:

```php
->withBindings(function ($app) {
    $app->bind(
        \App\Services\PaymentGateway::class,
        \App\Services\StripePayment::class
    );
});
```

âœ” Useful for small apps
âœ” Acts like a mini service provider

---

# ğŸš€ **8. Full Example (Real-Life Payment Service)**

### Step 1: Create Interface

`app/Services/PaymentGateway.php`

```php
interface PaymentGateway {
    public function pay($amount);
}
```

### Step 2: Create Implementation

`app/Services/StripePayment.php`

```php
class StripePayment implements PaymentGateway {
    public function pay($amount) {
        return "Paid {$amount} using Stripe";
    }
}
```

### Step 3: Bind in Provider

`app/Providers/PaymentServiceProvider.php`

```php
public function register()
{
    $this->app->bind(
        PaymentGateway::class,
        StripePayment::class
    );
}
```

### Step 4: Register Provider

`bootstrap/providers.php`

```php
App\Providers\PaymentServiceProvider::class,
```

### Step 5: Use it

Controller:

```php
public function pay(PaymentGateway $payment)
{
    return $payment->pay(500);
}
```

---

# ğŸ¯ **9. Service Container Helpers Cheat Sheet**

| Action         | Code                                         |
| -------------- | -------------------------------------------- |
| Bind class     | `$app->bind(Foo::class, Bar::class)`         |
| Singleton      | `$app->singleton(Foo::class, Bar::class)`    |
| Make instance  | `$obj = app(Foo::class)`                     |
| Bind value     | `$app->bind('key', fn() => 'value')`         |
| Tag services   | `$app->tag([A::class, B::class], 'reports')` |
| Resolve tagged | `app()->tagged('reports')`                   |

---

# ğŸ’¡ **10. When to Use Service Provider vs Container**

| Use Case                | Provider?  | Container?                      |
| ----------------------- | ---------- | ------------------------------- |
| Register class bindings | âœ” Yes      | Can do via app() but less clean |
| Register singletons     | âœ”          | âœ”                               |
| Load custom config      | âœ”          | âŒ                               |
| Blade directives        | âœ” boot()   | âŒ                               |
| Event listeners         | âœ”          | âŒ                               |
| One-time bindings       | Optional   | âœ” via bootstrap/app.php         |
| Large projects          | âœ” Required | Yes                             |

---
