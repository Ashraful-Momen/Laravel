I can see your configuration is correct, but the core issue remains: **the bucket "instasure" doesn't exist on your Brilliant S3 service**. Let me provide you with the exact steps to resolve this.

## IMMEDIATE SOLUTION - Create the Bucket

### STEP 1: Try Creating the Bucket via Laravel

```bash
# Enter your container
docker exec -it $(docker ps -q -f name=laravel_app) bash

# Create a simple script to create the bucket
php artisan tinker
```

```php
// Try to create the bucket
try {
    $s3Client = new \Aws\S3\S3Client([
        'version' => 'latest',
        'region' => 'us-east-1',
        'endpoint' => 'https://s3.brilliant.com.bd',
        'use_path_style_endpoint' => true,
        'credentials' => [
            'key' => 'YIWBL4D04XN2XK6KDD87',
            'secret' => 'Ro06JYVkWpkQKqwbAnVrjhRbnNSieIKUIqmn7ZoR',
        ],
    ]);
    
    echo "Creating bucket 'instasure'...\n";
    $result = $s3Client->createBucket([
        'Bucket' => 'instasure'
    ]);
    
    echo "Success! Bucket created.\n";
    print_r($result->toArray());
    
} catch (\Exception $e) {
    echo "Error: " . $e->getMessage() . "\n";
}

exit
```

### STEP 2: Test Upload After Bucket Creation

```bash
php artisan storage:sync-s3 --test
```

If the bucket creation works, this should now succeed.

### STEP 3: Alternative - Check Available Buckets

If bucket creation fails, see what buckets exist:

```bash
php artisan tinker
```

```php
try {
    $s3Client = new \Aws\S3\S3Client([
        'version' => 'latest',
        'region' => 'us-east-1',
        'endpoint' => 'https://s3.brilliant.com.bd',
        'use_path_style_endpoint' => true,
        'credentials' => [
            'key' => 'YIWBL4D04XN2XK6KDD87',
            'secret' => 'Ro06JYVkWpkQKqwbAnVrjhRbnNSieIKUIqmn7ZoR',
        ],
    ]);
    
    $result = $s3Client->listBuckets();
    echo "Available buckets:\n";
    foreach ($result['Buckets'] as $bucket) {
        echo "- " . $bucket['Name'] . "\n";
    }
    
} catch (\Exception $e) {
    echo "Error: " . $e->getMessage() . "\n";
}

exit
```

### STEP 4: Contact Brilliant Support

If the bucket creation fails, contact your S3 provider:

**Email/Contact Brilliant Support:**
- Ask them to create bucket "instasure" for your account
- Or ask for the correct bucket name you should use
- Verify your credentials have bucket creation permissions

### STEP 5: Alternative Bucket Name

If you need to use a different bucket name, update both files:

**Update docker-stack.yml environment:**
```yaml
- AWS_BUCKET=your-existing-bucket-name
- S3_BUCKET=your-existing-bucket-name
```

**Update .env file:**
```bash
AWS_BUCKET=your-existing-bucket-name
S3_BUCKET=your-existing-bucket-name
```

Then redeploy:
```bash
docker stack rm laravel
docker stack deploy -c docker-stack.yml laravel
```

### STEP 6: Test with curl (Manual Bucket Creation)

Try creating the bucket manually via curl:

```bash
curl -X PUT \
  -H "Authorization: AWS YIWBL4D04XN2XK6KDD87:$(echo -n 'PUT\n\n\n\nx-amz-date:$(date -u +%Y%m%dT%H%M%SZ)\n/instasure/' | openssl dgst -sha1 -hmac 'Ro06JYVkWpkQKqwbAnVrjhRbnNSieIKUIqmn7ZoR' -binary | base64)" \
  "https://s3.brilliant.com.bd/instasure/"
```

The fastest solution is to contact Brilliant support and ask them to create the "instasure" bucket for your account. Once that's done, your S3 integration will work immediately.

Your configuration is perfect - you just need the bucket to exist on the server side.
